<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sign Up | CareMatch</title>

  <link rel="stylesheet" href="../css/index.css" />
  <link rel="stylesheet" href="../css/signup.css" />
</head>

<body class="auth-page">
  <header class="site-header">
    <div class="container header-inner">
      <a class="login-link" href="logIn.html">Log in</a>

      <nav class="main-nav" aria-label="Main navigation">
        <a class="nav-link" href="../index.html">Home</a>
        <a class="nav-link" href="about.html">About</a>
        <a class="nav-link" href="get_involved.html">Get Involved</a>
        <a class="nav-link" href="donate.html">Donate</a>
      </nav>
    </div>
  </header>

  <main class="auth-main">
    <section class="auth-card" aria-labelledby="signup-title">
      <header class="auth-header">
        <h1 id="signup-title" class="auth-title">Sign Up</h1>
        <p class="auth-subtitle">
          Already a member?
          <a class="auth-link" href="logIn.html">Log In</a>
        </p>
      </header>

      <form id="signupForm" class="auth-form" novalidate>
        <!-- FULL NAME -->
        <div class="field">
          <label class="label" for="fullName">Full name <span aria-hidden="true">*</span></label>
          <input
            id="fullName"
            name="full_name"
            type="text"
            class="input"
            placeholder="Full name"
            autocomplete="name"
            required
            aria-describedby="fullNameHelp fullNameError"
          />
          <p id="fullNameHelp" class="help">Enter your first and last name.</p>
          <p id="fullNameError" class="error" role="alert" aria-live="polite"></p>
        </div>

        <!-- EMAIL -->
        <div class="field">
          <label class="label" for="email">Email <span aria-hidden="true">*</span></label>
          <input
            id="email"
            name="email"
            type="email"
            class="input"
            placeholder="Email"
            autocomplete="email"
            required
            aria-describedby="emailHelp emailError"
          />
          <p id="emailHelp" class="help">We’ll send a verification code to this email.</p>
          <p id="emailError" class="error" role="alert" aria-live="polite"></p>
        </div>

        <!-- PASSWORD -->
        <div class="field">
          <label class="label" for="password">Password <span aria-hidden="true">*</span></label>

          <div class="password-wrap">
            <input
              id="password"
              name="password"
              type="password"
              class="input"
              placeholder="Password"
              autocomplete="new-password"
              required
              minlength="8"
              aria-describedby="passwordHelp passwordError"
            />
            <button
              id="togglePassword"
              class="password-toggle"
              type="button"
              aria-pressed="false"
              aria-controls="password"
            >
              Show
            </button>
          </div>

          <p id="passwordHelp" class="help">At least 8 characters.</p>
          <p id="passwordError" class="error" role="alert" aria-live="polite"></p>
        </div>

        <!-- CONFIRM PASSWORD -->
        <div class="field">
          <label class="label" for="confirmPassword">Confirm password <span aria-hidden="true">*</span></label>

          <div class="password-wrap">
            <input
              id="confirmPassword"
              name="confirm_password"
              type="password"
              class="input"
              placeholder="Confirm password"
              autocomplete="new-password"
              required
              minlength="8"
              aria-describedby="confirmHelp confirmError"
            />
            <button
              id="toggleConfirmPassword"
              class="password-toggle"
              type="button"
              aria-pressed="false"
              aria-controls="confirmPassword"
            >
              Show
            </button>
          </div>

          <p id="confirmHelp" class="help">Must match your password.</p>
          <p id="confirmError" class="error" role="alert" aria-live="polite"></p>
        </div>

        <!-- FORM (GENERIC) ERROR -->
        <p id="formError" class="form-error" role="alert" aria-live="polite"></p>

        <button type="submit" class="btn-primary">Submit</button>
      </form>
    </section>
  </main>

  <!-- VERIFY EMAIL MODAL (shown after Submit) -->
  <!-- Accessible modal pattern: role="dialog", aria-modal="true", labeled title, optional aria-describedby -->
  <div class="modal" id="verifyModal" aria-hidden="true">
    <div class="modal-backdrop" data-close="true"></div>

    <div
      class="modal-dialog"
      role="dialog"
      aria-modal="true"
      aria-labelledby="verifyTitle"
      aria-describedby="verifyDesc"
    >
      <button class="modal-close" type="button" aria-label="Close" data-close="true">×</button>

      <h2 id="verifyTitle" class="modal-title">Verify your email</h2>
      <p id="verifyDesc" class="modal-desc">
        We sent a one-time code to your email. Enter it below to finish signing up.
      </p>

      <div class="field field--modal">
        <label class="label" for="emailCode">Verification code</label>
        <input
          id="emailCode"
          name="email_code"
          type="text"
          inputmode="numeric"
          class="input"
          placeholder="6-digit code"
          aria-describedby="codeHelp codeError"
        />
        <p id="codeHelp" class="help">Code expires after a short time.</p>
        <p id="codeError" class="error" role="alert" aria-live="polite"></p>
      </div>

      <p id="modalMsg" class="form-error" role="alert" aria-live="polite"></p>

      <div class="modal-actions">
        <button class="btn-primary btn-primary--small" type="button" id="verifyBtn">Verify</button>

        <button class="btn-link" type="button" id="resendBtn" disabled>
          Resend code <span id="resendTimer">(60)</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer" id="footer">
    <div class="container footer-grid">
      <div class="footer-left">
        <h3 class="footer-brand">Care Match</h3>

        <div class="footer-contact">
          <p class="footer-line">Phone: <a href="tel:+972501234567">+972 50-123-4567</a></p>
          <p class="footer-line">Email: <a href="mailto:carematch.info@gmail.com">carematch.info@gmail.com</a></p>
          <p class="footer-line">Location: Galilee, Israel</p>
        </div>
      </div>

      <div class="footer-right">
        <a class="footer-link" href="privacy.html">Privacy Policy</a>
        <a class="footer-link" href="accessibility.html">Accessibility Statement</a>

        <small class="footer-copy">© <span id="year"></span> CareMatch</small>
      </div>
    </div>
  </footer>

  <script defer src="../js/signup.js"></script>
</body>
</html>